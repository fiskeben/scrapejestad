package scrapejestad

import (
	"os"
	"reflect"
	"testing"
	"time"
)

func Test_parsing(t *testing.T) {
	r, err := os.Open("testdata/example.html")
	if err != nil {
		t.Fatalf("failed to open testdata: %v", err)
	}
	res, err := parse(r)
	if err != nil {
		t.Fatalf("error parsing testdata: %v", err)
	}

	results := []Reading{
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T10:44:28Z"); return t }(), Temp: 5.0625, Humidity: 92.9375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23242}, Fcnt: 2885, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.627, RSSI: -120, LSNR: 1.25, RadioSettings: RadioSettings{Frequency: 867.9, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T10:27:34Z"); return t }(), Temp: 5, Humidity: 93.75, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23242}, Fcnt: 2884, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.627, RSSI: -119, LSNR: -2.5, RadioSettings: RadioSettings{Frequency: 868.5, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.652, RSSI: -119, LSNR: -8.25, RadioSettings: RadioSettings{Frequency: 868.5, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T10:10:40Z"); return t }(), Temp: 4.9375, Humidity: 94.375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23242}, Fcnt: 2883, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.627, RSSI: -115, LSNR: 2, RadioSettings: RadioSettings{Frequency: 867.7, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.459, RSSI: -113, LSNR: -8.5, RadioSettings: RadioSettings{Frequency: 867.7, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-3", Position: Position{Lat: 0, Lng: 0}, Distance: 7.604, RSSI: -120, LSNR: -11.5, RadioSettings: RadioSettings{Frequency: 867.7, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T09:53:45Z"); return t }(), Temp: 4.875, Humidity: 95.125, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23242}, Fcnt: 2882, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.627, RSSI: -118, LSNR: 0.75, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T09:36:51Z"); return t }(), Temp: 4.875, Humidity: 95.1875, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23242}, Fcnt: 2881, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.627, RSSI: -115, LSNR: 2.75, RadioSettings: RadioSettings{Frequency: 867.5, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.459, RSSI: -115, LSNR: -6, RadioSettings: RadioSettings{Frequency: 867.5, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T09:19:57Z"); return t }(), Temp: 4.6875, Humidity: 97.0625, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23242}, Fcnt: 2880, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.627, RSSI: -120, LSNR: 1.75, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.459, RSSI: -119, LSNR: -6, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.652, RSSI: -118, LSNR: -10.5, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T09:03:03Z"); return t }(), Temp: 4.625, Humidity: 97.25, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23242}, Fcnt: 2879, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.627, RSSI: -117, LSNR: 3.25, RadioSettings: RadioSettings{Frequency: 867.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.652, RSSI: -119, LSNR: -4, RadioSettings: RadioSettings{Frequency: 867.3, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T08:46:41Z"); return t }(), Temp: 4.875, Humidity: 96.9375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23242}, Fcnt: 2878, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.627, RSSI: -119, LSNR: 1, RadioSettings: RadioSettings{Frequency: 868.5, Sf: "SF12BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T08:29:18Z"); return t }(), Temp: 4.875, Humidity: 97.5, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2877, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -115, LSNR: 3, RadioSettings: RadioSettings{Frequency: 867.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-3", Position: Position{Lat: 0, Lng: 0}, Distance: 7.6, RSSI: -119, LSNR: -5.5, RadioSettings: RadioSettings{Frequency: 867.1, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T08:12:24Z"); return t }(), Temp: 4.9375, Humidity: 97.1875, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2876, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -115, LSNR: 1.75, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -107, LSNR: -8.25, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T07:55:30Z"); return t }(), Temp: 5, Humidity: 96.4375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2875, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -120, LSNR: 2.5, RadioSettings: RadioSettings{Frequency: 867.9, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -120, LSNR: -10.25, RadioSettings: RadioSettings{Frequency: 867.9, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T07:38:36Z"); return t }(), Temp: 5, Humidity: 96.6875, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2874, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -119, LSNR: 3, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-3", Position: Position{Lat: 0, Lng: 0}, Distance: 7.6, RSSI: -119, LSNR: -8.75, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -119, LSNR: -9.75, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -119, LSNR: -10.75, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T07:21:41Z"); return t }(), Temp: 5.0625, Humidity: 96.375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2873, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -115, LSNR: -9.75, RadioSettings: RadioSettings{Frequency: 867.7, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T07:04:47Z"); return t }(), Temp: 5.25, Humidity: 95.5, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2872, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -115, LSNR: 0.5, RadioSettings: RadioSettings{Frequency: 868.5, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T06:47:53Z"); return t }(), Temp: 5.25, Humidity: 95.5, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2871, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -117, LSNR: 1.5, RadioSettings: RadioSettings{Frequency: 867.5, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T06:30:58Z"); return t }(), Temp: 5.4375, Humidity: 94.125, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2870, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -120, LSNR: 1.5, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -114, LSNR: -7.5, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T06:14:04Z"); return t }(), Temp: 5.6875, Humidity: 94.9375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2869, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -115, LSNR: 2.5, RadioSettings: RadioSettings{Frequency: 867.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -117, LSNR: -4.75, RadioSettings: RadioSettings{Frequency: 867.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-3", Position: Position{Lat: 0, Lng: 0}, Distance: 7.6, RSSI: -120, LSNR: -9.5, RadioSettings: RadioSettings{Frequency: 867.3, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T05:57:09Z"); return t }(), Temp: 6, Humidity: 90.5625, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2868, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -120, LSNR: 1.5, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -120, LSNR: -7, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-3", Position: Position{Lat: 0, Lng: 0}, Distance: 7.6, RSSI: -115, LSNR: -9.75, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T05:40:15Z"); return t }(), Temp: 6, Humidity: 90.75, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2867, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -115, LSNR: 3.5, RadioSettings: RadioSettings{Frequency: 867.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-3", Position: Position{Lat: 0, Lng: 0}, Distance: 7.6, RSSI: -120, LSNR: -6, RadioSettings: RadioSettings{Frequency: 867.1, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T05:23:20Z"); return t }(), Temp: 6.0625, Humidity: 90.4375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2866, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -117, LSNR: 1, RadioSettings: RadioSettings{Frequency: 868.5, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T05:06:26Z"); return t }(), Temp: 6.0625, Humidity: 90.9375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2865, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -119, LSNR: 2.75, RadioSettings: RadioSettings{Frequency: 867.9, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -119, LSNR: -11.5, RadioSettings: RadioSettings{Frequency: 867.9, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T04:49:31Z"); return t }(), Temp: 6.125, Humidity: 90.625, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2864, Gateways: []Gateway{Gateway{Name: "", Position: Position{Lat: 0, Lng: 0}, Distance: 0, RSSI: -120, LSNR: 0, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -113, LSNR: -6.5, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T04:32:36Z"); return t }(), Temp: 6.1875, Humidity: 90.875, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2863, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -117, LSNR: 1.5, RadioSettings: RadioSettings{Frequency: 867.7, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -115, LSNR: -5.5, RadioSettings: RadioSettings{Frequency: 867.7, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -120, LSNR: -9.25, RadioSettings: RadioSettings{Frequency: 867.7, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T04:15:42Z"); return t }(), Temp: 6.25, Humidity: 90.5625, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2862, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -120, LSNR: 1, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -119, LSNR: -6.75, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T03:58:47Z"); return t }(), Temp: 6.1875, Humidity: 91.0625, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2861, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -117, LSNR: 1.25, RadioSettings: RadioSettings{Frequency: 867.5, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -114, LSNR: -5.75, RadioSettings: RadioSettings{Frequency: 867.5, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T03:24:57Z"); return t }(), Temp: 6.125, Humidity: 92.75, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2859, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -117, LSNR: 1.75, RadioSettings: RadioSettings{Frequency: 867.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -119, LSNR: -2.25, RadioSettings: RadioSettings{Frequency: 867.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -117, LSNR: -10.75, RadioSettings: RadioSettings{Frequency: 867.3, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T03:08:03Z"); return t }(), Temp: 6.1875, Humidity: 93.1875, Light: 0, PM25: 0, PM10: 0, Voltage: 3.36, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2858, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -117, LSNR: -0.5, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -114, LSNR: -7.25, RadioSettings: RadioSettings{Frequency: 868.3, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T02:51:08Z"); return t }(), Temp: 6.1875, Humidity: 93.375, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2857, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -117, LSNR: 2, RadioSettings: RadioSettings{Frequency: 867.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-3", Position: Position{Lat: 0, Lng: 0}, Distance: 7.6, RSSI: -118, LSNR: -7.25, RadioSettings: RadioSettings{Frequency: 867.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -120, LSNR: -9, RadioSettings: RadioSettings{Frequency: 867.1, Sf: "SF9BW125", Cr: "4/5CR"}}}},
		Reading{ID: "242", Time: func() time.Time { t, _ := time.Parse(time.RFC3339, "2019-02-09T02:34:13Z"); return t }(), Temp: 6.0625, Humidity: 94, Light: 0, PM25: 0, PM10: 0, Voltage: 3.37, Firmware: "v2", Position: Position{Lat: 60.4308, Lng: 5.23251}, Fcnt: 2856, Gateways: []Gateway{Gateway{Name: "mjs-bergen-gateway-2", Position: Position{Lat: 0, Lng: 0}, Distance: 5.622, RSSI: -120, LSNR: -0.5, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-1", Position: Position{Lat: 0, Lng: 0}, Distance: 9.649, RSSI: -120, LSNR: -7.25, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}, Gateway{Name: "mjs-bergen-gateway-5", Position: Position{Lat: 0, Lng: 0}, Distance: 5.456, RSSI: -118, LSNR: -10.75, RadioSettings: RadioSettings{Frequency: 868.1, Sf: "SF9BW125", Cr: "4/5CR"}}}},
	}

	if len(res) != len(results) {
		t.Errorf("expected %d results, got %d", len(results), len(res))
	}

	for i, r := range results {
		if !reflect.DeepEqual(res[i], r) {
			t.Errorf("not equal")
		}
	}

}
